import{r as p,o as c,c as _,a as e,w as D,v as N,b as y,t as f,d as $,e as u,F as L,f as T,n as F,g as w,h as V,i as M,j as H,k as x,l as E}from"./vendor.ca1d9b4d.js";const B=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function i(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(a){if(a.ep)return;a.ep=!0;const n=i(a);fetch(a.href,n)}};B();var k=(r,s)=>{for(const[i,t]of s)r[i]=t;return r};const I={props:{array:Array,listName:String,msg:String},setup(r,{emit:s}){const i=p(""),t=p(!1);return{title:i,formOn:t,newElem:()=>{r.listName?s("createtask",r.array,i.value,r.listName):s("createitem",r.array,i.value),i.value=""},toggleForm:()=>t.value=!t.value}}},S={class:"form-wrapper"},A={key:0,class:"form-wrapper__inner"},j=$('<button class="button add-button"><span class="button__icon"><svg class="button__svg button__svg_big button__svg_dark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg></span></button>',1);function P(r,s,i,t,a,n){return c(),_("div",S,[t.formOn?(c(),_("div",A,[e("form",{onSubmit:s[1]||(s[1]=y((...l)=>t.newElem&&t.newElem(...l),["prevent"])),class:"form"},[D(e("textarea",{class:"form__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","onUpdate:modelValue":s[0]||(s[0]=l=>t.title=l)},null,512),[[N,t.title]]),j],32),e("a",{href:"#",class:"close-form-switch form-switch_purple",onClick:s[2]||(s[2]=(...l)=>t.toggleForm&&t.toggleForm(...l))},"\u041E\u0442\u043C\u0435\u043D\u0430")])):(c(),_("a",{key:1,href:"#",class:"open-form-switch form-switch_purple",onClick:s[3]||(s[3]=(...l)=>t.toggleForm&&t.toggleForm(...l))},f(i.msg),1))])}var C=k(I,[["render",P]]);const q={components:{Form:C},props:{todoList:Array},setup(r,{emit:s}){return{taskTitle:p(""),addTask:(n,l)=>{s("newTask",n,{title:l,completed:!1})},toggleTask:n=>{n.completed=!n.completed}}}},K={class:"todo"},U={class:"todo__wrapper"},G={class:"todo__list"},J={class:"todo__items"},Q=["onClick"];function R(r,s,i,t,a,n){const l=u("Form");return c(),_("div",K,[e("div",U,[e("div",G,[e("ul",J,[(c(!0),_(L,null,T(i.todoList,(m,v)=>(c(),_("li",{key:v,class:F(["todo__item",{todo__item_completed:m.completed}]),onClick:h=>t.toggleTask(m)},f(m.title),11,Q))),128))])]),w(l,{array:i.todoList,msg:"\u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043F\u043E\u0434\u0437\u0430\u0434\u0430\u0447\u0443",class:"todo__form",onCreateitem:t.addTask},null,8,["array","onCreateitem"])])])}var W=k(q,[["render",R]]);const X={},Y={class:"modal__wrapper"},Z={class:"modal__body"};function tt(r,s,i,t,a,n){return c(),_("div",null,[e("div",Y,[e("div",Z,[V(r.$slots,"default")])])])}var ot=k(X,[["render",tt]]);const et={components:{TodoList:W,Form:C,Modal:ot},setup(){const r=p([{id:0,title:"Task 1",list:"Todo",todoListOn:!0,isModalOpen:!1,tasks:[{title:"do something",completed:!1},{title:"do something else",completed:!1},{title:"do something else 2",completed:!1}]},{id:1,title:"Task 2",list:"Todo",todoListOn:!1,isModalOpen:!1,tasks:[{title:"do something",completed:!1},{title:"do something else",completed:!1},{title:"do something else 2",completed:!1}]},{id:2,title:"Task 3",list:"Done",todoListOn:!1,isModalOpen:!1,tasks:[{title:"do something",completed:!1},{title:"do something else",completed:!1},{title:"do something else 2",completed:!1}]}]),s=p(["Todo","In progress","Done"]),i=o=>r.value.filter(d=>d.list==o),t=(o,d)=>{o.dataTransfer.dropEffect="move",o.dataTransfer.effectAllowed="move",o.dataTransfer.setData("itemId",d.id)},a=(o,d)=>{const g=o.dataTransfer.getData("itemId"),b=r.value.find(O=>O.id==g);b.list=d},n=(o,d)=>{const g=o.indexOf(d);o.splice(g,1)},l=o=>{i(o).forEach(g=>{n(r.value,g)}),n(s.value,o)},m=(o,d)=>{d&&o.push(d)};return{lists:s,items:r,getList:i,startDrag:t,onDrop:a,deleteElement:n,deleteList:l,addItem:m,toggleList:o=>{o.todoListOn=!o.todoListOn},createTask:(o,d,g)=>{let b={id:r.value.length,title:d,list:g,todoListOn:!0,isModalOpen:!1,tasks:[]};m(o,b)},toggleModal:o=>{o.isModalOpen=!o.isModalOpen}}}},st={class:"desk desk__wrapper"},nt=e("h1",{class:"desk__heading"},"Tasktracker",-1),at=["onDrop"],lt={class:"drop-zone__header"},rt=["onClick"],it=e("span",{class:"button__icon"},[e("svg",{class:"button__svg button__svg_small button__svg_dark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#000000"},[e("path",{d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})])],-1),dt=[it],ct={class:"drop-zone__content"},_t=["onDragstart"],mt={class:"task__header task__header_modal"},ht=["onClick"],gt=e("span",{class:"button__icon"},[e("svg",{class:"button__svg button__svg_small button__svg_light",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},[e("path",{d:"M0 0h24v24H0V0z",fill:"none"}),e("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})])],-1),vt=[gt],pt={class:"task__content task__content_modal"},ft={class:"task__title task__title_modal"},ut={class:"task__header"},kt=["onClick"],wt=e("span",{class:"button__icon"},[e("svg",{class:"button__svg button__svg_small button__svg_light",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},[e("path",{d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})])],-1),bt=[wt],yt=["onClick"],Lt=e("span",{class:"button__icon"},[e("svg",{class:"button__svg button__svg_small button__svg_light",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#000000"},[e("path",{d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})])],-1),Tt=[Lt],Mt={class:"task__content"},zt=["onClick"],xt={class:"drop-zone__footer"};function Ct(r,s,i,t,a,n){const l=u("TodoList"),m=u("Modal"),v=u("Form");return c(),_("div",st,[nt,(c(!0),_(L,null,T(t.lists,(h,z)=>(c(),_("div",{class:"desk__drop-zone drop-zone drop-zone_lightgray",key:z,onDrop:o=>t.onDrop(o,h),onDragenter:s[0]||(s[0]=y(()=>{},["prevent"])),onDragover:s[1]||(s[1]=y(()=>{},["prevent"]))},[e("div",lt,[e("h2",null,f(h),1),e("button",{class:"button delete-button",onClick:o=>t.deleteList(h)},dt,8,rt)]),e("div",ct,[(c(!0),_(L,null,T(t.getList(h),o=>(c(),_("div",{key:o.id,class:"drop-zone__element task",draggable:"true",onDragstart:d=>t.startDrag(d,o)},[o.isModalOpen?(c(),M(m,{key:0,class:"modal"},{default:H(()=>[e("div",mt,[e("button",{class:"button close-modal-button",onClick:d=>t.toggleModal(o)},vt,8,ht)]),e("div",pt,[e("h3",ft,f(o.title),1),w(l,{class:"todo_modal",todoList:o.tasks,onNewTask:t.addItem},null,8,["todoList","onNewTask"])])]),_:2},1024)):x("",!0),e("div",ut,[e("button",{class:"button open-modal-button",onClick:d=>t.toggleModal(o)},bt,8,kt),e("button",{class:"button delete-button",onClick:d=>t.deleteElement(t.items,o)},Tt,8,yt)]),e("div",Mt,[e("h3",{class:"task__title",onClick:d=>t.toggleList(o)},f(o.title),9,zt),o.todoListOn?(c(),M(l,{key:0,todoList:o.tasks,onNewTask:t.addItem},null,8,["todoList","onNewTask"])):x("",!0)])],40,_t))),128))]),e("div",xt,[w(v,{array:t.items,listName:h,msg:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443",onCreatetask:t.createTask,class:"drop-zone__new-task-form"},null,8,["array","listName","onCreatetask"])])],40,at))),128)),w(v,{msg:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044E",array:t.lists,onCreateitem:t.addItem,class:"desk__form drop-zone drop-zone_lightgray"},null,8,["array","onCreateitem"])])}var Ot=k(et,[["render",Ct]]);const Dt={components:{Desk:Ot}};function Nt(r,s,i,t,a,n){const l=u("Desk");return c(),M(l)}var $t=k(Dt,[["render",Nt]]);E($t).mount("#app");
